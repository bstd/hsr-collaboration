h2.debug-restricted
	| create user
section
	md-content(layout='row', layout-wrap, class='md-padding')
		form(ng-submit='create(form)', name='form', class='form', novalidate)
			div(class='form-group', ng-class="{ 'has-success': form.email.$valid && submitted, 'has-error': form.email.$invalid && submitted || form.email.$error.unique && submitted }")
				label
					| Email
				input(type='email', name='email', class='form-control', ng-model='user.email', unique-email, required)

				p(class='help-block', ng-show='form.email.$error.email && submitted')
					| invalid: email

				p(class='help-block', ng-show='form.email.$error.required && submitted')
					| required: email

				p(class='help-block', ng-show='form.email.$error.unique && submitted')
					| duplicate: email


			div(class='form-group', ng-class="{ 'has-success': form.password.$valid && submitted, 'has-error': form.password.$invalid && submitted }")
				label
					| Password
				input(type='password', name='password', class='form-control', ng-model='user.password',	ng-minlength='3', required)

				p(class='help-block', ng-show='(form.password.$error.minlength || form.password.$error.required) && submitted')
					| Password must be at least 3 characters.


			div(class='form-group')
				label
					| Role
				input(type='text', name='role', class='form-control', ng-model='user.role')


			md-button(type='submit', class='btn btn-inverse btn-lg btn-login')
				| Speichern

			md-button(ui-sref='admin.user-list')
				| Abbrechen
