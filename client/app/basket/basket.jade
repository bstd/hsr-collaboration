include ../partials/header.jade

section
  h1
    | Warenkorb
section
  md-content(layout='row', layout-wrap)
    div(ng-show='empty')
      p
        | Warenkorb ist leer.
      md-button(href='/product', class='md-raised md-primary')
        | Produkte kaufen

    md-card(ng-hide='empty', ng-repeat='basketItem in basketItems track by basketItem._id', flex='30', flex-md='45', flex-sm='100')
      md-card-content
        p
          | {{basketItem._name}} (EAN: {{basketItem._ean}})
        p
          | {{basketItem._price | number:2}}
        p
          | Anzahl: {{basketItem._qty}}

      md-card-footer
        div(layout='row', layout-align='end end', class='md-actions')
          md-tooltip
            | Entfernen
          md-button(ng-click='removeItem(basketItem)', class='md-icon-button md-raised md-warn')
            md-icon(md-svg-icon='delete')

section(ng-hide='empty', flex)
  md-content(layout='row', layout-wrap, class='md-padding')
    p(class='md-title')
      | Total: {{basketTotal | number:2}}

  md-content(layout='row', layout-wrap, class='md-padding')
    md-button(ng-click='checkout()', class='md-button md-raised md-primary')
      | Bestellen
    md-button(href='/product', class='md-primary')
      | Weiter einkaufen
